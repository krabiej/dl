<!-- public/views/card.html -->
<!--upper toolbar -->
<md-toolbar>
    <div class="md-toolbar-tools">
      <h3>{{ title }}</h3>
      <span flex></span>
      <md-button aria-label="Open Settings" ng-click="showListBottomSheet($event)">
        <md-icon>more_vert</md-icon>
      </md-button>
    </div>
</md-toolbar>

<!-- list of initiatives -->

<md-content flex md-scroll-y layout="column" layout-fill layout-padding>
    <md-card style="margin:0px">
        <md-input-container style="margin:15px;">
            <label>Filter by search</label>
            <input type="text" ng-model="filterName">
        </md-input-container>

        <div ng-hide="true">
            {{(filteredItems = (cards | filter: filterName))}}
        </div>
    </md-card>
    <md-table-container>
      <table md-table md-progress="promise">
        <thead md-head md-order="cardOrder">
          <tr md-row>
            <th md-column md-order-by="extended_data.sponsor_name"><span>Sponsor</span></th>
            <th md-column md-order-by="title"><span>Name</span></th>
            <th md-column md-numeric md-order-by="taskboard_completed_card_size"><span>Current budget</span></th>
            <th md-column md-numeric md-order-by="taskboard_total_size"><span>Total budget</span></th>
            <th md-column md-order-by="due_date">Planned finish</th>
            <th md-column >Sponsor</th>
            <th md-column>Action</th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row md-select="item" md-select-id="{{item._id}}" ng-repeat="item in cards | filter: filterName | orderBy: cardOrder">
            <td md-cell>{{item.extended_data.sponsor_name}}</td>
            <td md-cell>{{item.title}}</td>
            <td md-cell>{{item.taskboard_completed_card_size * 107}}</td>
            <td md-cell>{{item.taskboard_total_size * 107}}</td>
            <td md-cell>{{item.due_date}}</td>
            <td md-cell>{{item.extended_data.sponsor_name}}</td>
            <td md-cell ng-click="showDialog('E', item, $event)"><md-icon>edit</md-icon></td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
</md-content>
